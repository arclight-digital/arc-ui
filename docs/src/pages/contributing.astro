---
import DocsLayout from '../layouts/DocsLayout.astro';

const headings = [
  { id: 'getting-started', label: 'Getting Started' },
  { id: 'development', label: 'Development' },
  { id: 'architecture', label: 'Architecture' },
  { id: 'pull-requests', label: 'Pull Requests' },
  { id: 'reporting-issues', label: 'Reporting Issues' },
  { id: 'code-style', label: 'Code Style' },
];
---

<DocsLayout
  title="Contributing"
  description="How to contribute to ARC UI."
  activeSlug="contributing"
  headings={headings}
  breadcrumbs={[{ label: 'Contributing' }]}
>
  <div class="contributing-page">
    <h1 class="page-title">Contributing</h1>
    <p class="page-desc">
      ARC UI is open source and we welcome contributions. Here's how to get involved.
    </p>

    <section id="getting-started">
      <h2 class="docs-heading">Getting Started</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">Prerequisites:</p>
      <ul class="docs-list">
        <li><strong>Node.js 24+</strong> (LTS)</li>
        <li><strong>pnpm 10+</strong></li>
        <li>Git</li>
      </ul>
      <p class="docs-text">Clone the repository and install dependencies:</p>
      <arc-code-block language="bash" code="git clone https://github.com/Arclight-Digital/arc-ui.git
cd arc-ui
pnpm install"></arc-code-block>
    </section>

    <section id="development">
      <h2 class="docs-heading">Development</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        The docs site is the primary development environment. Start it with:
      </p>
      <arc-code-block language="bash" code="pnpm dev"></arc-code-block>
      <p class="docs-text">
        After modifying any web component source in <code>packages/web-components/src/</code>, regenerate
        all framework wrappers and CSS:
      </p>
      <arc-code-block language="bash" code="pnpm prism"></arc-code-block>
      <arc-callout variant="warning">
        Never hand-edit files in <code>packages/react/</code>, <code>packages/vue/</code>, or
        <code>packages/html/css/</code>. These are generated by Prism and will be overwritten.
      </arc-callout>
    </section>

    <section id="architecture">
      <h2 class="docs-heading">Architecture</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        ARC UI is a monorepo with Lit web components as the single source of truth. Prism, a custom
        code generator, reads the WC source and produces idiomatic wrappers for each framework.
      </p>
      <p class="docs-text">Components are organized into five tiers:</p>
      <ul class="docs-list">
        <li><strong>Layout</strong> — Page scaffolding (AppShell, Container, PageLayout)</li>
        <li><strong>Navigation</strong> — Menus, links, tabs, breadcrumbs</li>
        <li><strong>Content</strong> — Cards, tables, badges, avatars, timelines</li>
        <li><strong>Input</strong> — Buttons, forms, selects, sliders</li>
        <li><strong>Feedback</strong> — Modals, dialogs, toasts, tooltips</li>
      </ul>
      <p class="docs-text">
        Design tokens live in <code>shared/tokens.js</code> (JS) and <code>shared/tokens.css</code> (CSS).
        Both files must be kept in sync. Compound tokens must use <code>var()</code> references so
        consumers can override just the base tokens.
      </p>
    </section>

    <section id="pull-requests">
      <h2 class="docs-heading">Pull Requests</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <ol class="docs-list">
        <li>Fork the repository and create a feature branch from <code>main</code></li>
        <li>Make your changes to the WC source</li>
        <li>Run <code>pnpm prism</code> to regenerate framework wrappers</li>
        <li>Run <code>pnpm lint</code> and <code>pnpm format:check</code></li>
        <li>Test your changes in the docs site (<code>pnpm dev</code>)</li>
        <li>Submit a pull request with a clear description of the change</li>
      </ol>
    </section>

    <section id="reporting-issues">
      <h2 class="docs-heading">Reporting Issues</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        Found a bug or have a feature request? Open an issue on
        <a href="https://github.com/Arclight-Digital/arc-ui/issues" target="_blank" rel="noopener">GitHub</a>.
        Please include:
      </p>
      <ul class="docs-list">
        <li>A clear description of the issue or request</li>
        <li>Steps to reproduce (for bugs)</li>
        <li>Expected vs. actual behavior</li>
        <li>Browser and OS version</li>
        <li>A minimal reproduction if possible</li>
      </ul>
    </section>

    <section id="code-style">
      <h2 class="docs-heading">Code Style</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <ul class="docs-list">
        <li>Web components are plain JavaScript (no TypeScript build step)</li>
        <li>Use <code>static properties</code> instead of decorators</li>
        <li>Follow existing naming: <code>arc-component-name</code> for tags, <code>ArcComponentName</code> for classes</li>
        <li>All components import <code>tokenStyles</code> from <code>../shared-styles.js</code></li>
        <li>Use <code>var(--token-name)</code> for all colors, spacing, and typography</li>
        <li>Clean up event listeners in <code>disconnectedCallback()</code></li>
        <li>Support keyboard navigation and ARIA attributes for interactive components</li>
        <li>Run <code>pnpm format</code> before committing</li>
      </ul>
    </section>
  </div>
</DocsLayout>
