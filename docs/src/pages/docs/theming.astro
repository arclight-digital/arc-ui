---
import { Code } from 'astro:components';
import DocsLayout from '../../layouts/DocsLayout.astro';

const headings = [
  { id: 'how-themes-work', label: 'How Themes Work' },
  { id: 'dark-mode', label: 'Dark Mode' },
  { id: 'light-mode', label: 'Light Mode' },
  { id: 'auto-mode', label: 'Auto Mode' },
  { id: 'fixed-regions', label: 'Fixed Regions' },
  { id: 'custom-themes', label: 'Custom Themes' },
  { id: 'synthesizer', label: 'Theme Synthesizer' },
];
---

<DocsLayout
  title="Theming"
  description="Customize ARC UI with themes, dark/light mode, and CSS custom properties."
  activeSlug="theming"
  headings={headings}
  breadcrumbs={[{ label: 'Theming' }]}
>
  <div class="theming-page">
    <h1 class="page-title">Theming</h1>
    <p class="page-desc">
      ARC UI's visual identity is driven entirely by CSS custom properties. Switch between
      dark, light, and auto modes — or create a fully custom theme by overriding tokens.
    </p>

    <section id="how-themes-work">
      <h2 class="docs-heading">How Themes Work</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        Themes are controlled by the <code>data-theme</code> attribute on the <code>&lt;html&gt;</code>
        element. ARC UI ships three modes:
      </p>
      <div class="theme-modes">
        <arc-card>
          <span class="theme-mode-card__label">Dark</span>
          <code>data-theme="dark"</code>
          <span class="theme-mode-card__desc">Default. Deep blacks with blue/violet accent glows.</span>
        </arc-card>
        <arc-card>
          <span class="theme-mode-card__label">Light</span>
          <code>data-theme="light"</code>
          <span class="theme-mode-card__desc">Bright backgrounds with stronger accent colors.</span>
        </arc-card>
        <arc-card>
          <span class="theme-mode-card__label">Auto</span>
          <code>data-theme="auto"</code>
          <span class="theme-mode-card__desc">Follows OS <code>prefers-color-scheme</code> preference.</span>
        </arc-card>
      </div>
      <p class="docs-text">
        All components automatically adapt when the theme changes — no additional configuration needed.
      </p>
    </section>

    <section id="dark-mode">
      <h2 class="docs-heading">Dark Mode</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        Dark mode is the default. The color palette uses near-black backgrounds with blue and violet
        accent glows to create a distinctive, modern aesthetic.
      </p>
      <div class="docs-code"><Code code={`<!-- Dark mode is the default — no attribute needed -->
<html>
  <!-- or explicitly: -->
<html data-theme="dark">`} lang="html" theme="css-variables" /></div>
      <p class="docs-text">Key dark-mode tokens:</p>
      <div class="token-preview-grid">
        <arc-card class="token-preview" style="--bg-card: var(--bg-deep)">
          <code>--bg-deep</code>
        </arc-card>
        <arc-card class="token-preview" style="--bg-card: var(--bg-surface)">
          <code>--bg-surface</code>
        </arc-card>
        <arc-card class="token-preview">
          <code>--bg-card</code>
        </arc-card>
        <arc-card class="token-preview" style="--bg-card: var(--bg-elevated)">
          <code>--bg-elevated</code>
        </arc-card>
      </div>
    </section>

    <section id="light-mode">
      <h2 class="docs-heading">Light Mode</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        Light mode shifts backgrounds to soft whites and adjusts accents for stronger contrast
        on light surfaces. Shadows become colored (blue/violet tinted) instead of black.
      </p>
      <div class="docs-code"><Code code={`<html data-theme="light">`} lang="html" theme="css-variables" /></div>
      <p class="docs-text">
        In light mode, the <code>.theme-fixed</code> regions (nav, footer) switch to a deep
        royal blue instead of near-black, maintaining the brand feel.
      </p>
    </section>

    <section id="auto-mode">
      <h2 class="docs-heading">Auto Mode</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        Auto mode respects the user's OS preference via <code>prefers-color-scheme</code>.
        Use localStorage to persist the user's choice:
      </p>
      <div class="docs-code"><Code code={`// Set theme and persist
function setTheme(theme) {
  document.documentElement.setAttribute('data-theme', theme);
  localStorage.setItem('arc-theme', theme);
}

// Restore on page load
const saved = localStorage.getItem('arc-theme') || 'auto';
document.documentElement.setAttribute('data-theme', saved);`} lang="js" theme="css-variables" /></div>
      <arc-callout variant="tip">The <code>arc-theme-toggle</code> component handles this automatically — just drop it into your layout.</arc-callout>
    </section>

    <section id="fixed-regions">
      <h2 class="docs-heading">Fixed Regions</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        Some UI regions (nav bars, footers) should keep a consistent dark appearance regardless
        of theme. Apply the <code>.theme-fixed</code> class to lock a region's tokens:
      </p>
      <div class="docs-code"><Code code={`<div class="theme-fixed">
  <arc-top-bar fixed>
    <!-- Always uses dark tokens -->
  </arc-top-bar>
</div>`} lang="html" theme="css-variables" /></div>
      <p class="docs-text">
        In dark mode, <code>.theme-fixed</code> uses the standard near-black palette.
        In light mode, it switches to deep royal blue backgrounds instead.
      </p>
    </section>

    <section id="custom-themes">
      <h2 class="docs-heading">Custom Themes</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        Create a custom theme by overriding CSS custom properties. For colors, you should also
        provide the <code>-rgb</code> channel variant so alpha compositing works correctly:
      </p>
      <div class="docs-code"><Code code={`:root {
  /* Override accent colors */
  --accent-primary: rgb(0, 150, 136);
  --accent-primary-rgb: 0, 150, 136;
  --accent-secondary: rgb(233, 30, 99);
  --accent-secondary-rgb: 233, 30, 99;

  /* Alpha variants auto-compose from -rgb channels */
  --accent-primary-subtle: rgba(var(--accent-primary-rgb), 0.06);
  --accent-primary-border: rgba(var(--accent-primary-rgb), 0.12);
  --accent-primary-glow:   rgba(var(--accent-primary-rgb), 0.2);
}`} lang="css" theme="css-variables" /></div>
      <arc-callout variant="info">When overriding accent or background tokens, verify that your custom values maintain sufficient contrast ratios (4.5:1 for text, 3:1 for UI elements). Use the <a href="/docs/theme-synthesizer">Theme Synthesizer</a> to interactively build a custom theme and export the CSS.</arc-callout>
    </section>

    <section id="synthesizer">
      <h2 class="docs-heading">Theme Synthesizer</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        The <a href="/docs/theme-synthesizer">Theme Synthesizer</a> is an interactive tool that lets
        you tweak every design token, preview the result in real time, and download a ready-to-use
        <code>tokens.css</code> file.
      </p>
      <div class="synth-cta">
        <a href="/docs/theme-synthesizer">
          <arc-button variant="primary">Open Theme Synthesizer</arc-button>
        </a>
      </div>
    </section>
  </div>
</DocsLayout>

<script>
  import '@arclux/arc-ui';
</script>

<style>
  /* Theme mode cards */
  .theme-modes {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-md);
  }

  .theme-modes arc-card::part(inner) {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    padding: var(--space-md);
  }

  .theme-mode-card__label {
    font-family: var(--font-accent);
    font-size: var(--text-xs);
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    background: var(--gradient-accent-text);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .theme-modes arc-card code {
    font-size: var(--text-xs);
    color: var(--text-primary);
  }

  .theme-mode-card__desc {
    font-size: var(--text-sm);
    color: var(--text-muted);
    line-height: 1.5;
  }

  .theme-mode-card__desc code {
    font-size: var(--text-xs);
    background: var(--bg-surface);
    padding: 1px 4px;
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
  }

  /* Token preview cards */
  .token-preview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
  }

  .token-preview::part(inner) {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 60px;
    padding: var(--space-sm);
  }

  .token-preview code {
    font-size: var(--text-xs);
    color: var(--text-muted);
  }

  /* CTA */
  .synth-cta {
    margin-top: var(--space-sm);
  }

  .synth-cta a {
    text-decoration: none;
  }

  @media (max-width: 768px) {
    .theme-modes { grid-template-columns: 1fr; }
  }
</style>
