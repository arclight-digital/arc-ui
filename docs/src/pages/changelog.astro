---
import DocsLayout from '../layouts/DocsLayout.astro';
import { components } from '../data/components/index';

const headings = [
  { id: 'v1-0-0', label: 'v1.0.0' },
  { id: 'components', label: 'Components' },
  { id: 'frameworks', label: 'Framework Wrappers' },
  { id: 'tokens', label: 'Design Tokens' },
];

const tiers = ['layout', 'navigation', 'content', 'input', 'feedback'];
const byTier = Object.fromEntries(
  tiers.map(t => [t, components.filter(c => c.tier === t).sort((a, b) => a.name.localeCompare(b.name))])
);
---

<DocsLayout
  title="Changelog"
  description="ARC UI release history and version notes."
  activeSlug="changelog"
  headings={headings}
  breadcrumbs={[{ label: 'Changelog' }]}
>
  <div class="changelog-page">
    <h1 class="page-title">Changelog</h1>
    <p class="page-desc">
      Release history for ARC UI. All packages are versioned together.
    </p>

    <section id="v1-0-0">
      <h2 class="docs-heading">v1.0.0 — Initial Release</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        The first stable release of ARC UI. Includes {components.length} components across 5 tiers,
        framework wrappers for React, Vue, Svelte, Angular, Solid, and Preact, standalone CSS output,
        and a comprehensive design token system with dark and light themes.
      </p>
    </section>

    <section id="components">
      <h2 class="docs-heading">Components</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        All {components.length} components ship as Lit web components with zero external dependencies
        beyond Lit itself.
      </p>

      {tiers.map(tier => (
        <div class="tier-group">
          <h3 class="tier-heading">{tier.charAt(0).toUpperCase() + tier.slice(1)}</h3>
          <div class="component-chips">
            {byTier[tier].map(c => (
              <a href={`/components/${c.slug}`} class="component-chip">{c.name}</a>
            ))}
          </div>
        </div>
      ))}
    </section>

    <section id="frameworks">
      <h2 class="docs-heading">Framework Wrappers</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        Generated by <strong>Prism</strong>, our custom code generator that reads the Lit source and
        produces idiomatic bindings for each framework:
      </p>
      <ul class="docs-list">
        <li><code>@arclux/arc-ui-react</code> — React 18+ via <code>@lit/react</code></li>
        <li><code>@arclux/arc-ui-vue</code> — Vue 3.3+</li>
        <li><code>@arclux/arc-ui-svelte</code> — Svelte 5+</li>
        <li><code>@arclux/arc-ui-angular</code> — Angular 17+ standalone components</li>
        <li><code>@arclux/arc-ui-solid</code> — Solid 1.8+</li>
        <li><code>@arclux/arc-ui-preact</code> — Preact 10.19+</li>
        <li><code>@arclux/arc-ui-html</code> — Standalone CSS + HTML examples</li>
      </ul>
    </section>

    <section id="tokens">
      <h2 class="docs-heading">Design Tokens</h2>
      <arc-divider align="left" variant="line-gradient" style="max-width:48px;margin-bottom:var(--space-md)"></arc-divider>
      <p class="docs-text">
        The v1.0 token set includes 90+ CSS custom properties covering color, typography, spacing,
        shadows, gradients, glows, z-index, breakpoints, motion, and focus styles. Both dark and
        light themes are fully defined. See the <a href="/tokens">Tokens</a> page for the full reference.
      </p>
    </section>
  </div>
</DocsLayout>

<style>
  .tier-group {
    margin-bottom: var(--space-lg);
  }

  .tier-heading {
    font-family: var(--font-accent);
    font-size: var(--text-xs);
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-bottom: var(--space-sm);
  }

  .component-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .component-chip {
    font-size: var(--text-xs);
    font-family: var(--font-mono);
    padding: 4px 10px;
    border-radius: var(--radius-full);
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    color: var(--text-secondary);
    text-decoration: none;
    transition: color var(--transition-fast), border-color var(--transition-fast), background var(--transition-fast);
  }

  .component-chip:hover {
    color: var(--text-primary);
    border-color: var(--border-bright);
    background: var(--bg-card);
  }
</style>
