# ARC UI — Claude Code Instructions

## Project Structure
Monorepo with Lit web components as the source of truth. Framework wrappers and CSS are **generated** — never edit them by hand.

```
shared/tokens.js          ← Design token JS source (used by WCs + Prism)
shared/tokens.css          ← Design token CSS source (used by docs + Prism)
packages/web-components/   ← Lit WC source (the canonical component code)
packages/react/            ← GENERATED by Prism
packages/vue/              ← GENERATED by Prism
packages/svelte/           ← GENERATED by Prism
packages/angular/          ← GENERATED by Prism
packages/solid/            ← GENERATED by Prism
packages/preact/           ← GENERATED by Prism
packages/html/css/         ← GENERATED by Prism (standalone CSS)
packages/html/examples/    ← GENERATED by Prism (HTML examples)
docs/                      ← Astro docs site
```

## Key Workflows

### Modifying components
1. Edit the WC source in `packages/web-components/src/`
2. Run `pnpm prism` to regenerate all framework wrappers + HTML + CSS
3. Never hand-edit files in `packages/react/`, `packages/html/css/`, etc.

### Modifying design tokens
1. Edit `shared/tokens.js` (JS source) AND `shared/tokens.css` (CSS source)
2. Run `pnpm prism` to regenerate `packages/html/css/arc-ui.css`
3. Compound tokens should use `var()` references (e.g. `var(--accent-secondary-rgb)`) so consumers only override base tokens

### Running the docs site
```
pnpm dev
```

### Regenerating everything
```
pnpm prism
```

## Design Rules — HARD BANS
- **NEVER use left-aligned colored accent borders** (border-left indicator patterns, active state left borders). Completely banned.

## Token Architecture
- Base tokens: `--accent-primary`, `--accent-secondary`, `--accent-primary-rgb`, `--accent-secondary-rgb`
- Compound tokens (gradients, glows, focus rings) must reference base tokens via `var()`, NOT hard-code RGB values
- This allows consumers to override just 2-4 base tokens and have all compound tokens cascade automatically

## Git Safety
- NEVER run `git checkout <file>` on files with unstaged changes
- Always check `git diff <file>` before any checkout/restore commands
